//app.post('/profile', async (req, res) => {


//     //recibimos los ficheros(si no existe la carpeta la crea)
//    await fsPromises.mkdir(`${process.env.TARGET_FOLDER}/profile`, {recursive:true})

//     try {
//         //les damos un identificador único
//         const fileID = uuid.v4()
//         //los guardamos en la carpeta que nos interesa
//         const outputFileName = `${process.env.TARGET_FOLDER}/profile/${fileID}.png`

//         console.log(outputFileName)

//         await fsPromises.writeFile(outputFileName, req.files.image.data)

//         //guardar una referencia a este uuid en la base de datos
//         //para que luego el front llame al get para que le de el uuid

//         res.send()

//     } catch (e) {
//         console.log('Error: ', e)
//         res.status(500).send
//     }
// })


//ver foto
//app.get('/usuario/:id/profile')  //
// app.get('/profile/:uuid', async (req, res) => {

//     const { uuid } = req.params

//     //comprobar si la imagen existe
//     const path = `${__dirname}/images/profile/${uuid}.png`
//     try {
//         const checkExists = await fsPromises.stat(path)
//         //aquí devolvemos el fichero
//         res.sendFile(path)
//     } catch(e) {
//         console.log('el fichero no existe')
//         res.status(404).send()
//     }
    
// })
